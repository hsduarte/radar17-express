<!DOCTYPE html>
<html lang="pt-PT">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RADAR 17 - Visualizador de Debate</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.3/font/bootstrap-icons.css">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        teamA: '#0d6efd',
                        teamB: '#dc3545',
                    },
                    animation: {
                        'pulse-custom': 'pulse 2s infinite',
                        'score-change': 'score-change 1s ease-out',
                    },
                    keyframes: {
                        pulse: {
                            '0%': { boxShadow: '0 0 0 0 rgba(255, 255, 255, 0.7)' },
                            '70%': { boxShadow: '0 0 0 20px rgba(255, 255, 255, 0)' },
                            '100%': { boxShadow: '0 0 0 0 rgba(255, 255, 255, 0)' },
                        },
                        'score-change': {
                            '0%': { transform: 'scale(1)' },
                            '50%': { transform: 'scale(1.2)' },
                            '100%': { transform: 'scale(1)' },
                        }
                    }
                }
            }
        }
    </script>
</head>
<body class="font-sans bg-gray-100 overflow-hidden">
    <div class="fixed inset-0 w-screen h-screen bg-gray-900 text-white flex flex-col">
        <div class="bg-gray-800 text-white p-5 text-center h-[15vh] flex flex-col justify-center">
            <h1 id="debate-title" class="text-3xl font-bold">RADAR 17 - Debate Participativo</h1>
            <h3 id="debate-subtitle" class="text-xl">Jovens e Decisores Políticos</h3>
        </div>
        
        <div class="flex-1 flex flex-col relative">
            <div class="bg-green-600/90 p-5 rounded-lg m-5 text-center flex flex-col justify-center h-[30vh]">
                <div id="question-text" class="text-4xl font-bold mb-3">Aguardando início do debate...</div>
                <div id="voting-status" class="text-2xl mt-4">
                    <i class="bi bi-hourglass"></i> Preparando questões
                </div>
            </div>
            
            <div class="flex justify-around items-center h-[40vh] p-5">
                <div class="team-score team-a text-center w-[45%] h-full flex flex-col justify-center rounded-2xl relative overflow-hidden bg-blue-500/20 border-5 border-teamA">
                    <div id="team-a-name" class="text-4xl font-bold mb-5 text-teamA">Equipa A</div>
                    <div id="team-a-score" class="text-6xl font-bold text-teamA">0</div>
                </div>
                
                <div class="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-white text-gray-800 w-[100px] h-[100px] flex justify-center items-center rounded-full text-4xl font-bold shadow-lg z-10">
                    VS
                </div>
                
                <div class="team-score team-b text-center w-[45%] h-full flex flex-col justify-center rounded-2xl relative overflow-hidden bg-red-500/20 border-5 border-teamB">
                    <div id="team-b-name" class="text-4xl font-bold mb-5 text-teamB">Equipa B</div>
                    <div id="team-b-score" class="text-6xl font-bold text-teamB">0</div>
                </div>
            </div>
            
            <div id="question-result" class="bg-white/10 rounded-lg p-4 mx-5 mr-[190px] flex justify-between hidden">
                <div class="w-full">
                    <div class="h-10 rounded-full relative overflow-hidden bg-white/20 mt-3">
                        <div id="team-a-bar" class="bg-teamA h-full w-1/2 transition-all duration-1500 ease-in-out">
                            <span id="team-a-value" class="absolute top-1/2 -translate-y-1/2 left-4 font-bold text-white drop-shadow-md">50%</span>
                        </div>
                        <div id="team-b-bar" class="bg-teamB h-full w-1/2 absolute top-0 right-0 transition-all duration-1500 ease-in-out">
                            <span id="team-b-value" class="absolute top-1/2 -translate-y-1/2 right-4 font-bold text-white drop-shadow-md">50%</span>
                        </div>
                    </div>
                    <div id="vote-count" class="text-2xl mt-3 text-white/70 text-center">
                        Total de votos: 0
                    </div>
                </div>
            </div>
            
            <div id="qr-container" class="fixed bottom-5 right-5 bg-white p-3 rounded-lg flex flex-col items-center shadow-lg z-90 transition-opacity duration-300">
                <div class="qr-code w-[150px] h-[150px] bg-white p-3 mb-3">
                    <!-- Substituir pelo QR code real -->
                    <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mP8z8BQDwAEhQGAhKmMIQAAAABJRU5ErkJggg==" alt="QR Code" class="w-full h-full">
                </div>
                <div class="text-black text-base font-bold text-center">
                    Faz scan para<br>Participar no Debate
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.socket.io/4.4.1/socket.io.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/qrcode-generator@1.4.4/qrcode.min.js"></script>
    <script src="visualizer.js"></script>
</body>
</html>